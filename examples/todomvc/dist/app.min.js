!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Svenjs=t():e.Svenjs=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(2),o=n(4),r=document.getElementById("myapp");i.render(o,r)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){var i,o,r;(function(e){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}!function(s,a){"object"===n(t)&&"object"===n(e)?e.exports=a():(o=[],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r)))}(void 0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,i){var o;(function(e){function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":n(e)}function s(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":r(e)}var a=i(6),c=i(5),l=i(3),d=i(11),u=i(4),f=i(2),p=i(8),h=i(1),m={version:a.version,create:c.create,setState:u.setState,createStore:p.createStore,render:l.render,renderToString:l.renderToString,lifeCycle:f.lifeCycle,timeTravel:d.timeTravel,deepCopy:h.deepCopy};"object"===s(e)&&null!=e&&e.exports?e.exports=m:(o=function(){return m}.call(t,i,t,e),!(void 0!==o&&(e.exports=o)))}).call(t,i(12)(e))},function(e,t){t.deepCopy=function(e){return JSON.parse(JSON.stringify(e))}},function(e,t,n){var i=n(3);t.lifeCycle=function(e){var t=void 0;e._svenjs.rootNode&&(t=e._svenjs.rootNode);var n=document.querySelector("[sjxid='"+e.render().attrs.sjxid+"']");n&&(t=n),e.isMounted&&t&&((0,i.render)(e,t),e.hasOwnProperty("componentDidUpdate")&&e.componentDidUpdate.apply(e))}},function(e,t,n){var i=n(7),o=function(e,t){return t.appendChild(e)},r=Object.prototype.hasOwnProperty,s=function(e,t){if(r.call(e,"children")&&(0,i.isArray)(e.children)&&e.children.forEach(function(e){("string"==typeof e||"number"==typeof e)&&t.appendChild(document.createTextNode(e))}),r.call(e,"attrs")){var n=e.attrs;for(var o in n)if("config"!==o&&"key"!==o&&("disabled"!==o||n[o]!==!1))if("class"==o||"className"==o)t.className=n[o].toString();else if((0,i.isFunction)(n[o])&&"on"==o.slice(0,2))t[o.toLowerCase()]=n[o];else{if("checked"===o&&(n[o]===!1||""===n[o]))continue;t.setAttribute(""+o,n[o].toString())}}return t},a=function(e){var t=document.createElement(e.tag);return s(e,t),t},c=function d(e,t){var n=void 0;return r.call(e,"children")&&(0,i.isArray)(e.children)&&e.children.forEach(function(e,s){var c=e.tag;(0,i.isArray)(e)?e.forEach(function(e,i){r.call(e,"sjxid")&&(e.attrs["universaljs-id"]=sjxid),n=a(e),d(e,n),o(n,t)}):"undefined"!=typeof c&&("strong"===e.tag||"input"===e.tag?(n=a(e),o(n,t),d(e,n)):(n=a(e),d(e,n),o(n,t)))}),t};t.renderToString=function(e,t){return l(e,t).innerHTML};var l=function(e,t){var n=document.createDocumentFragment(),i=document.createElement(e.tag);s(e,t.rootNode);var o=c(e,i);return n.appendChild(o),n};t.render=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(!t)return"Error: no node to attach rendered HTML";(0,i.isObject)(e)&&(r.call(e,"_svenjs")||(e._svenjs={rootNode:!1}),e._svenjs.rootNode=t),t.innerHTML="";var o=void 0;o=(0,i.isObject)(n)?n:e.render(),t.appendChild(l(o,e._svenjs))}},function(e,t,n){var i=n(10),o=n(9),r=n(2);t.setState=function(e,t){t.state=(0,i.saveState)(t,e),t.time=(0,o.saveHistory)(t,e),(0,r.lifeCycle)(t)}},function(e,t,n){var i=n(4);t.create=function(e){return e._svenjs={rootNode:!1},console.log(void 0),console.log("spec"),console.log(e),e.isBound||(e.isBound=!0,e.setState=function(e){return(0,i.setState)(e,this)}),e.isMounted||(e.time={history:[],pos:-1},e.isMounted=!0,void 0!==e.initialState&&(e.state=e.initialState),"function"==typeof e.componentDidMount&&e.componentDidMount.apply(e)),e}},function(e,t){t.version=function(){return"0.0.2-alpha"}},function(e,t){var n={}.toString;t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"[object Object]"===n.call(e)},t.isString=function(e){return"[object String]"===n.call(e)},t.isArray=function(e){return"[object Array]"===n.call(e)},t.isDefined=function(e){return"undefined"!==n.call(e)}},function(e,t){var n=[];t.createStore=function(e){return e.isMounted||(e.listenTo=function(e){n.push(e)},e.emit=function(e){n.forEach(function(t){t(e)})},"function"==typeof e.init&&e.init.apply(e)),e}},function(e,t,n){var i=n(1);t.saveHistory=function(e,t){var n=void 0;return n=e.time?(0,i.deepCopy)(e.time):{history:[],pos:-1},n.history.splice(n.pos+1),n.history.push((0,i.deepCopy)(t)),n.pos++,n}},function(e,t,n){var i=n(1);t.saveState=function(e,t){var n=(0,i.deepCopy)(t);return Object.freeze(n),n}},function(e,t,n){var i=n(1),o=n(2);t.timeTravel=function(e,t){var n=e.time,r=e.state;n.pos+=t,e.state=r,r=(0,i.deepCopy)(n.history[n.pos]),e.state=r,e.render(r,e._svenjs.rootNode),(0,o.lifeCycle)(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])})}).call(t,n(1)(e))},function(e,t,n){var i,o,r;(function(e){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}!function(s,a){"object"===n(t)&&"object"===n(e)?e.exports=a():(o=[],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r)))}(void 0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,i){var o;(function(e){function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":n(e)}function s(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":r(e)}var a=i(6),c=i(5),l=i(3),d=i(11),u=i(4),f=i(2),p=i(8),h=i(1),m={version:a.version,create:c.create,setState:u.setState,createStore:p.createStore,render:l.render,renderToString:l.renderToString,lifeCycle:f.lifeCycle,timeTravel:d.timeTravel,deepCopy:h.deepCopy};"object"===s(e)&&null!=e&&e.exports?e.exports=m:(o=function(){return m}.call(t,i,t,e),!(void 0!==o&&(e.exports=o)))}).call(t,i(12)(e))},function(e,t){t.deepCopy=function(e){return JSON.parse(JSON.stringify(e))}},function(e,t,n){var i=n(3);t.lifeCycle=function(e){var t=void 0;e._svenjs.rootNode&&(t=e._svenjs.rootNode);var n=document.querySelector("[sjxid='"+e.render().attrs.sjxid+"']");n&&(t=n),e.isMounted&&t&&((0,i.render)(e,t),e.hasOwnProperty("componentDidUpdate")&&e.componentDidUpdate.apply(e))}},function(e,t,n){var i=n(7),o=function(e,t){return t.appendChild(e)},r=Object.prototype.hasOwnProperty,s=function(e,t){if(r.call(e,"children")&&(0,i.isArray)(e.children)&&e.children.forEach(function(e){("string"==typeof e||"number"==typeof e)&&t.appendChild(document.createTextNode(e))}),r.call(e,"attrs")){var n=e.attrs;for(var o in n)if("config"!==o&&"key"!==o&&("disabled"!==o||n[o]!==!1))if("class"==o||"className"==o)t.className=n[o].toString();else if((0,i.isFunction)(n[o])&&"on"==o.slice(0,2))t[o.toLowerCase()]=n[o];else{if("checked"===o&&(n[o]===!1||""===n[o]))continue;t.setAttribute(""+o,n[o].toString())}}return t},a=function(e){var t=document.createElement(e.tag);return s(e,t),t},c=function d(e,t){var n=void 0;return r.call(e,"children")&&(0,i.isArray)(e.children)&&e.children.forEach(function(e,s){var c=e.tag;(0,i.isArray)(e)?e.forEach(function(e,i){r.call(e,"sjxid")&&(e.attrs["universaljs-id"]=sjxid),n=a(e),d(e,n),o(n,t)}):"undefined"!=typeof c&&("strong"===e.tag||"input"===e.tag?(n=a(e),o(n,t),d(e,n)):(n=a(e),d(e,n),o(n,t)))}),t};t.renderToString=function(e,t){return l(e,t).innerHTML};var l=function(e,t){var n=document.createDocumentFragment(),i=document.createElement(e.tag);s(e,t.rootNode);var o=c(e,i);return n.appendChild(o),n};t.render=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(!t)return"Error: no node to attach rendered HTML";(0,i.isObject)(e)&&(r.call(e,"_svenjs")||(e._svenjs={rootNode:!1}),e._svenjs.rootNode=t),t.innerHTML="";var o=void 0;o=(0,i.isObject)(n)?n:e.render(),t.appendChild(l(o,e._svenjs))}},function(e,t,n){var i=n(10),o=n(9),r=n(2);t.setState=function(e,t){t.state=(0,i.saveState)(t,e),t.time=(0,o.saveHistory)(t,e),(0,r.lifeCycle)(t)}},function(e,t,n){var i=n(4);t.create=function(e){return e._svenjs={rootNode:!1},console.log(void 0),console.log("spec"),console.log(e),e.isBound||(e.isBound=!0,e.setState=function(e){return(0,i.setState)(e,this)}),e.isMounted||(e.time={history:[],pos:-1},e.isMounted=!0,void 0!==e.initialState&&(e.state=e.initialState),"function"==typeof e.componentDidMount&&e.componentDidMount.apply(e)),e}},function(e,t){t.version=function(){return"0.0.2-alpha"}},function(e,t){var n={}.toString;t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"[object Object]"===n.call(e)},t.isString=function(e){return"[object String]"===n.call(e)},t.isArray=function(e){return"[object Array]"===n.call(e)},t.isDefined=function(e){return"undefined"!==n.call(e)}},function(e,t){var n=[];t.createStore=function(e){return e.isMounted||(e.listenTo=function(e){n.push(e)},e.emit=function(e){n.forEach(function(t){t(e)})},"function"==typeof e.init&&e.init.apply(e)),e}},function(e,t,n){var i=n(1);t.saveHistory=function(e,t){var n=void 0;return n=e.time?(0,i.deepCopy)(e.time):{history:[],pos:-1},n.history.splice(n.pos+1),n.history.push((0,i.deepCopy)(t)),n.pos++,n}},function(e,t,n){var i=n(1);t.saveState=function(e,t){var n=(0,i.deepCopy)(t);return Object.freeze(n),n}},function(e,t,n){var i=n(1),o=n(2);t.timeTravel=function(e,t){var n=e.time,r=e.state;n.pos+=t,e.state=r,r=(0,i.deepCopy)(n.history[n.pos]),e.state=r,e.render(r,e._svenjs.rootNode),(0,o.lifeCycle)(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])})}).call(t,n(1)(e))},function(e,t,n){"use strict";var i=n(3),o=13,r=27,s=!1,a=!1,c=0,l=i.create({displayName:"TodoMVC App",initialState:{messages:[{id:1,message:"Answer all the mail",complete:!1,editing:!1},{id:2,message:"Get a cup of coffee",complete:!1,editing:!1}]},componentDidUpdate:function(){var e=document.getElementById("new-todo");null!==e&&a&&(a=!1,e.focus(),e.setSelectionRange(e.value.length,e.value.length))},componentDidMount:function(){var e=self.history===!0?self.getPath():window.location.hash.replace(/.*#\//,"");this.setState({messages:this.state.messages,url:e}),window.addEventListener("hashchange",this.onHashChange.bind(this),!1)},handleEditTodoKeyDown:function(e){return e.keyCode===r?void this.simpleResetEditing():void(e.keyCode===o&&(this.saveTodo(e),this.resetEditing(),e.preventDefault()))},handleNewTodoKeyDown:function(e,t){t.keyCode===o&&(this.addTodo(t),t.innerHTML="",document.getElementById(e).focus(),t.preventDefault())},onHashChange:function(){var e=self.history===!0?self.getPath():window.location.hash.replace(/.*#\//,"");this.resetEditing(),this.setState({messages:this.state.messages,url:e})},saveTodo:function(e){var t="undefined"==typeof e.srcElement?e.target.value:e.srcElement.value,n=this.state.messages.filter(function(e){return e.id===c&&(e.message=t),e});this.setState({messages:n,url:this.state.url})},addTodo:function(e){var t=this.state.messages,n=void 0,i="undefined"==typeof e.srcElement?e.target.value:e.srcElement.value;n=0===t.length?1:t[t.length-1].id,t.push({id:n+1,message:i,complete:!1,editing:!1}),this.setState({messages:t,url:this.state.url})},destroyMessage:function(e){var t=this.state.messages.filter(function(t){return t.id!==e.id});this.setState({messages:t})},destroyCompleted:function(){var e=this.state.messages.filter(function(e){return e.complete===!1});this.resetEditing(),this.setState({messages:e,url:this.state.url})},toggleOne:function(e,t){var n=this.state.messages.filter(function(t){return t.id===e.id&&(t.complete=!t.complete),t});this.resetEditing(),this.setState({messages:n,url:this.state.url})},simpleResetEditing:function(){var e=this.state.messages.map(function(e){return e.editing=!1,e});a=!1,this.setState({messages:e,url:this.state.url})},resetEditing:function(e){var t=!1,n=this.state.messages.map(function(e){return e.editing&&(t=!0),e.editing=!1,e});t?(a=!0,this.setState({messages:n,url:this.state.url})):a=!1},onDoubleClick:function(e,t){if(c=e.id,!e.complete){var n=this.state.messages.map(function(t){return t.editing=t.id===e.id?!t.editing:!1,t});this.setState({messages:n,url:this.state.url});var i=document.getElementsByClassName("edit active")[0];i.focus(),i.setSelectionRange(i.value.length,i.value.length)}},toggleAll:function(){s=!s;var e=this.state.messages.map(function(e){return e.complete=s,e});this.resetEditing(),this.setState({messages:e})},listTodos:function(){var e=this,t=this.state.messages.filter(function(t){switch(e.state.url){case"active":return!t.complete;case"completed":return t.complete;default:return!0}},this);return t.map(function(t){var n=t.message,i=!1,o="todo",r="edit";return t.editing&&(o="todo editing",r="edit active"),t.complete&&(n={tag:"del",attrs:{sjxid:"1613.083440810442"},children:[t.message]},i=!0),{tag:"li",attrs:{sjxid:"1851.2028134427965",className:o},children:[{tag:"div",attrs:{sjxid:"1512.8762163221836",className:"view"},children:[{tag:"input",attrs:{sjxid:"1156.92277578637",className:"toggle",type:"checkbox",checked:i,onClick:e.toggleOne.bind(e,t)}},{tag:"label",attrs:{sjxid:"1708.8085995055735",ondblclick:e.onDoubleClick.bind(e,t)},children:[n]},{tag:"button",attrs:{sjxid:"5.174499005079269",className:"destroy",onClick:e.destroyMessage.bind(e,t)}}]},{tag:"input",attrs:{sjxid:"1459.3268963508308",className:r,type:"text",onKeyDown:e.handleEditTodoKeyDown.bind(e),value:t.message}}]}})},render:function(){var e=(this.state,""),t="",n="";return(""===this.state.url||"all"===this.state.url)&&(e="selected"),"active"===this.state.url&&(t="selected"),"completed"===this.state.url&&(n="selected"),{tag:"section",attrs:{sjxid:"1542.259061243385","class":"todoapp"},children:[{tag:"header",attrs:{sjxid:"922.4557550624013","class":"header"},children:[{tag:"h1",attrs:{sjxid:"284.94916716590524"},children:["todos"]},{tag:"input",attrs:{sjxid:"1769.3735365755856",className:"new-todo",id:"new-todo",onClick:this.resetEditing.bind(this),onKeyDown:this.handleNewTodoKeyDown.bind(this,"new-todo"),placeholder:"What needs to be done?",autofocus:!0}}]},{tag:"section",attrs:{sjxid:"1425.4165119491518",className:"main"},children:[{tag:"input",attrs:{sjxid:"719.9317789636552",className:"toggle-all",type:"checkbox",onClick:this.toggleAll.bind(this)}},{tag:"label",attrs:{sjxid:"363.4732267819345","for":"toggle-all"},children:["Mark all as complete"]},{tag:"ul",attrs:{sjxid:"1460.3918213397264",className:"todo-list"},children:[this.listTodos()]}]},{tag:"footer",attrs:{sjxid:"898.954167496413","class":"footer"},children:[{tag:"span",attrs:{sjxid:"33.605089876800776","class":"todo-count"},children:[this.state.messages.length,1===this.state.messages.length?" item":" items"," remaining"]},{tag:"ul",attrs:{sjxid:"52.699390798807144","class":"filters"},children:[{tag:"li",attrs:{sjxid:"1709.571189712733"},children:[{tag:"a",attrs:{sjxid:"1457.1819216944277",href:"#/all","class":e},children:["All"]}]},{tag:"li",attrs:{sjxid:"944.697527680546"},children:[{tag:"a",attrs:{sjxid:"830.4120730608702",href:"#/active","class":t},children:["Active"]}]},{tag:"li",attrs:{sjxid:"70.8076092414558"},children:[{tag:"a",attrs:{sjxid:"766.5698854252696",href:"#/completed","class":n},children:["Completed"]}]}]},{tag:"button",attrs:{sjxid:"745.1938414014876","class":"clear-completed",onClick:this.destroyCompleted.bind(this)},children:["Clear completed"]}]}]}}});e.exports=l}])});