!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.Svenjs=t():e.Svenjs=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=n(1),i=n(2),r=document.getElementById("ui");o.render(i,r)},function(e,t,n){"use strict";!function(t,n){e.exports=n()}(void 0,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var o;(function(e){var i=n(9),r=n(2),a=n(4),c=n(8),d=n(5),s=n(6),l=n(1),u=n(7),p=n(10),f=n(3),m={version:i.version,updateUI:r.updateUI,setState:d.setState,createStore:p.createStore,createComponent:s.createComponent,render:u.render,lifeCycle:l.lifeCycle,timeTravel:c.timeTravel,saveState:a.saveState,deepCopy:f.deepCopy};"object"==typeof e&&null!=e&&e.exports?e.exports=m:(o=function(){return m}.call(t,n,t,e),!(void 0!==o&&(e.exports=o)))}).call(t,n(11)(e))},function(e,t){t.lifeCycle=function(e){e.isMounted&&e.componentDidUpdate.apply(e)}},function(e,t){t.updateUI=function(e,t,n){var o=e._svenjs.rootNode;n=n||e.time,t=t||e.render(e.state),JSON.stringify(o.innerHTML)!==JSON.stringify(t)&&(o.innerHTML="","string"==typeof t?o.appendChild(document.createRange().createContextualFragment(t)):o.appendChild(t))}},function(e,t){var n=t.deepCopy=function(e){if(null===e||"object"!=typeof e||"isActiveClone"in e)return e;var t=e.constructor();for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(e.isActiveClone=null,t[o]=n(e[o]),delete e.isActiveClone);return t}},function(e,t,n){var o=n(3);t.saveState=function(e,t){e=e||{history:[],pos:-1},e.history.splice(e.pos+1),e.history.push(o.deepCopy(t)),e.pos++}},function(e,t,n){var o=n(2),i=n(4),r=n(1);t.setState=function(e,t){i.saveState(t.time,e),o.updateUI(t,t.render(e)),r.lifeCycle(t)}},function(e,t,n){var o=n(5);t.createComponent=function(e){return console.log(e.displayName),e._svenjs={rootNode:{}},e.isBound||(e.isBound=!0,e.setState=function(e){return o.setState(e,this)}),e.isMounted||(e.time={history:[],pos:-1},e.isMounted=!0,void 0!==e.initialState&&(e.state=e.initialState),"function"==typeof e.componentDidMount&&e.componentDidMount.apply(e)),e}},function(e,t){t.render=function(e,t){e._svenjs.rootNode=t;var n=e.render();console.log(n.tag);var o=document.createDocumentFragment(),i=document.createElement(n.tag);n.attrs.hasOwnProperty("id")&&(i.id="row");var r=function a(e,t){e.children.forEach(function(e){if(console.log(e),null!=e.children){var t=e.children;t.forEach(function(e){a(e)})}})};r(n,i),o.appendChild(i),t.appendChild(o)}},function(e,t,n){var o=n(3),i=n(2),r=n(1);t.timeTravel=function(e,t){var n=e.time,a=e.state;n.pos+=t,a=o.deepCopy(n.history[n.pos]),e.state=a,i.updateUI(e,e.render(a),n),r.lifeCycle(e)}},function(e,t){t.version=function(){return"0.0.2-alpha"}},function(e,t){var n=[];t.createStore=function(e){return e.isMounted||(e.listenTo=function(e){n.push(e)},e.emit=function(e){n.forEach(function(t){t(e)})},"function"==typeof e.init&&e.init.apply(e)),e}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var i=n(4),r=o(i),a=n(1),c=a.createComponent({displayName:"First app",initialState:{items:[],message:""},componentDidMount:function(){r["default"].listenTo(this.onEmit)},componentDidUpdate:function(){},onEmit:function(e){console.log("data from store received!"),console.log(e)},handleClick:function(e){console.log("handleClick");var t=this.state;this.time;t.items.push(this.getNextString()),t.message="BOB"+(1+Math.floor(100*Math.random()))+"!",this.setState(t)},goBack:function(){a.timeTravel(this,-1)},goForward:function(){a.timeTravel(this,1)},getNextString:function(){var e="The quick brown fox jumps over the lazy dog".split(" ");return e[Math.floor(Math.random()*e.length)]},render:function(){var e=this.state,t=(this.time,!0),n=!0;return{tag:"div",attrs:{id:"row"},children:[{tag:"div",attrs:{id:"app"},children:[{tag:"h3",attrs:{},children:[e.message||"Svenjs App"]},{tag:"button",attrs:{onClick:this.handleClick.bind(this)},children:["Add word"]},{tag:"div",attrs:{id:"ui"}},{tag:"small",attrs:{},children:["(click word to delete)"]}]},{tag:"div",attrs:{id:"time-travel"},children:[{tag:"h3",attrs:{},children:["Time travel"]},{tag:"button",attrs:{disabled:t,onClick:this.goBack.bind(this)},children:["Back"]},{tag:"button",attrs:{disabled:n,onClick:this.goForward.bind(this)},children:["Next"]},{tag:"p",attrs:{id:"time-pos"}}]}]}},__render:function(){var e=this,t=this.state,n=this.time,o=document.createDocumentFragment(),i=document.createElement("div");i.id="row",o.appendChild(i);var r=document.createElement("div");r.id="app",i.appendChild(r);var c=document.createElement("h3"),d=document.createTextNode(this.state.message||"Sample App");c.appendChild(d),r.appendChild(c);var s=document.createElement("button"),l=document.createTextNode("Add Word");s.id="add",s.onclick=function(){t.items.push(e.getNextString()),e.setState(t)},s.appendChild(l),r.appendChild(s);var u=document.createElement("small");u.textContent="(click word to delete)",r.appendChild(u);var p=document.createElement("span");p.id="count",p.textContent="Words: "+t.items.length,r.appendChild(p);var f=document.createElement("ul");t.items.forEach(function(t,n){var o=document.createElement("li"),i=document.createTextNode(t);o.appendChild(i),o.onclick=function(){e.handleClick(n)},f.appendChild(o)}),r.appendChild(f);var m=document.createElement("div");m.id="time-travel",i.appendChild(m);var h=document.createElement("h3"),v=document.createTextNode("Time Travel");h.appendChild(v),m.appendChild(h),s=document.createElement("button"),l=document.createTextNode("Back"),s.id="back",s.disabled=n.pos<=0,s.onclick=function(){a.timeTravel(e,-1)},s.appendChild(l),m.appendChild(s),s=document.createElement("button"),l=document.createTextNode("Next"),s.id="next",s.disabled=n.pos>=n.history.length-1,s.onclick=function(){a.timeTravel(e,1)},s.appendChild(l),m.appendChild(s);var C=document.createElement("p");return C.id="time-pos",C.textContent="Position "+(n.pos+1)+" of "+n.history.length,m.appendChild(C),o}});e.exports=c},function(e,t){"use strict";t.getJSON=function(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(200===o.status?t(JSON.parse(o.responseText)):n(o.responseText))},o.open("GET",e),o.send()})}},function(e,t,n){"use strict";var o=n(3),i=n(1);e.exports=i.createStore({init:function(){var e=this;o.getJSON("http://www.reddit.com/r/javascript/.json").then(function(t){e.emit(t)})["catch"](console.log.bind(console))}})}])});