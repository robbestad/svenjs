(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define(factory);
	else if(typeof exports === 'object')
		exports["Svenjs"] = factory();
	else
		root["Svenjs"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";

	var Svenjs = __webpack_require__(1);
	var timeTravel = Svenjs.createComponent({
	  state: { items: [] },
	  componentDidMount: function componentDidMount() {
	    "use strict";
	    //console.log(this.time);
	    //    console.log("did mount");

	    //Svenjs.updateUI(false, this.render(this.state), this.time);
	  },
	  handleClick: function handleClick(idx) {
	    "use strict";
	    this.state.items.push(this.getNextString());
	    Svenjs.setState(this.state, this.time, this);
	  },
	  getNextString: function getNextString() {
	    "use strict";
	    var words = "The quick brown fox jumps over the lazy dog".split(" ");
	    return words[Math.floor(Math.random() * words.length)];
	  },

	  render: function render(state, time) {
	    "use strict";

	    var _this = this;

	    state = state || this.state;
	    time = time || this.time;
	    var docFragment = document.createDocumentFragment();
	    var rowDiv = document.createElement("div");
	    rowDiv.id = "row";
	    docFragment.appendChild(rowDiv);
	    var app = document.createElement("div");
	    app.id = "app";
	    rowDiv.appendChild(app);
	    var h3 = document.createElement("h3");
	    var h3Text = document.createTextNode("Sample App");
	    h3.appendChild(h3Text);
	    app.appendChild(h3);
	    var button = document.createElement("button");
	    var buttonText = document.createTextNode("Add Word");
	    button.id = "add";
	    button.onclick = function () {
	      "use strict";
	      state.items.push(_this.getNextString());
	      //console.log(this.time.pos);
	      Svenjs.setState(state, time, _this);
	    };
	    button.appendChild(buttonText);
	    app.appendChild(button);
	    var smallSpan = document.createElement("small");
	    smallSpan.textContent = "(click word to delete)";
	    app.appendChild(smallSpan);
	    var wordSpan = document.createElement("span");
	    wordSpan.id = "count";
	    wordSpan.textContent = "Words: " + state.items.length;
	    app.appendChild(wordSpan);
	    var ul = document.createElement("ul");
	    state.items.forEach(function (item, idx) {
	      var li = document.createElement("li");
	      var textContent = document.createTextNode(item);
	      li.appendChild(textContent);
	      li.onclick = function () {
	        _this.handleClick(idx);
	      };
	      ul.appendChild(li);
	    });
	    app.appendChild(ul);
	    var timeTravelDiv = document.createElement("div");
	    timeTravelDiv.id = "time-travel";
	    rowDiv.appendChild(timeTravelDiv);
	    var ttH3 = document.createElement("h3");
	    var ttH3Text = document.createTextNode("Time Travel");
	    ttH3.appendChild(ttH3Text);
	    timeTravelDiv.appendChild(ttH3);
	    button = document.createElement("button");
	    buttonText = document.createTextNode("Back");
	    button.id = "back";
	    button.disabled = time.pos <= 0;
	    button.onclick = function () {
	      "use strict";
	      Svenjs.timeTravel(_this, -1);
	    };
	    button.appendChild(buttonText);
	    timeTravelDiv.appendChild(button);
	    button = document.createElement("button");
	    buttonText = document.createTextNode("Next");
	    button.id = "next";
	    button.disabled = time.pos >= time.history.length;
	    button.onclick = function () {
	      "use strict";
	      Svenjs.timeForward(_this);
	    };
	    button.appendChild(buttonText);
	    timeTravelDiv.appendChild(button);
	    var ttP = document.createElement("p");
	    ttP.id = "time-pos";
	    ttP.textContent = "Position " + (0 === time.pos + 1 ? 0 : time.pos) + " of " + (0 === time.history.length ? 0 : time.history.length);
	    timeTravelDiv.appendChild(ttP);
	    return docFragment;
	  }
	});
	module.exports = timeTravel;

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	(function webpackUniversalModuleDefinition(root, factory) {
		if (true) module.exports = factory();else if (typeof define === 'function' && define.amd) define(factory);else if (typeof exports === 'object') exports['Svenjs'] = factory();else root['Svenjs'] = factory();
	})(undefined, function () {
		return ( /******/(function (modules) {
				// webpackBootstrap
				/******/ // The module cache
				/******/var installedModules = {};

				/******/ // The require function
				/******/function __webpack_require__(moduleId) {

					/******/ // Check if module is in cache
					/******/if (installedModules[moduleId])
						/******/return installedModules[moduleId].exports;

					/******/ // Create a new module (and put it into the cache)
					/******/var module = installedModules[moduleId] = {
						/******/exports: {},
						/******/id: moduleId,
						/******/loaded: false
						/******/ };

					/******/ // Execute the module function
					/******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

					/******/ // Flag the module as loaded
					/******/module.loaded = true;

					/******/ // Return the exports of the module
					/******/return module.exports;
					/******/
				}

				/******/ // expose the modules object (__webpack_modules__)
				/******/__webpack_require__.m = modules;

				/******/ // expose the module cache
				/******/__webpack_require__.c = installedModules;

				/******/ // __webpack_public_path__
				/******/__webpack_require__.p = '';

				/******/ // Load entry module and return exports
				/******/return __webpack_require__(0);
				/******/
			})([
			/* 0 */
			/***/function (module, exports, __webpack_require__) {

				'use strict';

				exports.__esModule = true;

				var _coreVersion = __webpack_require__(9);

				var _coreRender = __webpack_require__(7);

				var _coreUpdateUi = __webpack_require__(1);

				var _coreSaveState = __webpack_require__(3);

				var _coreSetState = __webpack_require__(4);

				var _coreTimeTravel = __webpack_require__(5);

				var _coreTimeForward = __webpack_require__(8);

				var _coreCreateComponent = __webpack_require__(6);

				var _utilsDeepCopy = __webpack_require__(2);

				exports.version = _coreVersion.version;
				exports.createComponent = _coreCreateComponent.createComponent;
				exports.updateUI = _coreUpdateUi.updateUI;
				exports.setState = _coreSetState.setState;
				exports.timeTravel = _coreTimeTravel.timeTravel;
				exports.timeForward = _coreTimeForward.timeForward;
				exports.saveState = _coreSaveState.saveState;
				exports.deepCopy = _utilsDeepCopy.deepCopy;
				exports.render = _coreRender.render;

				/***/
			},
			/* 1 */
			/***/function (module, exports, __webpack_require__) {

				'use strict';

				var _saveState = __webpack_require__(3);

				exports.updateUI = function (loading, html, time) {
					if (!loading) _saveState.saveState(time);
					if (JSON.stringify(document.querySelector('#ui').innerHTML) === JSON.stringify(html)) {
						return;
					}

					document.querySelector('#ui').innerHTML = '';
					if (typeof html === 'string') {
						document.querySelector('#ui').appendChild(document.createRange().createContextualFragment(html));
					} else {
						document.querySelector('#ui').appendChild(html);
					}
				};

				/***/
			},
			/* 2 */
			/***/function (module, exports) {

				'use strict';

				var deepCopy = exports.deepCopy = function (obj) {
					if (obj === null || typeof obj !== 'object' || 'isActiveClone' in obj) return obj;

					var temp = obj.constructor(); // changed

					for (var key in obj) {
						if (Object.prototype.hasOwnProperty.call(obj, key)) {
							obj['isActiveClone'] = null;
							temp[key] = deepCopy(obj[key]);
							delete obj['isActiveClone'];
						}
					}

					return temp;
				};

				/***/
			},
			/* 3 */
			/***/function (module, exports, __webpack_require__) {

				//deprecated
				'use strict';

				var _utilsDeepCopy = __webpack_require__(2);

				exports.saveState = function (time, state) {
					console.log('save-state');
					time = time || { history: [], pos: -1 };
					// delete alternate future history
					time.history.splice(time.pos + 1);
					// push state to history
					time.history.push(_utilsDeepCopy.deepCopy(state));
					time.pos++;
				};

				/***/
			},
			/* 4 */
			/***/function (module, exports, __webpack_require__) {

				'use strict';

				var _utilsDeepCopy = __webpack_require__(2);

				var _saveState = __webpack_require__(3);

				var _updateUi = __webpack_require__(1);

				var _timeTravel = __webpack_require__(5);

				exports.setState = function (state, time, callback) {
					// Removed undefined
					var newArray = new Array();
					for (var i = 0; i < time.history.length; i++) {
						/*      if (undefined !== time.history[i]){
	             newArray.push(time.history[i]);
	           }
	       */
						newArray.push(time.history[i]);
					}
					time.history = newArray;

					// delete alternate future history
					time.history.splice(time.pos);
					// push state to history
					time.history.push(_utilsDeepCopy.deepCopy(state));

					//callback(state,time);
					_timeTravel.timeTravel(callback, 1);
				};
				//updateUI(false, callback.render(state), time);

				/***/
			},
			/* 5 */
			/***/function (module, exports, __webpack_require__) {

				'use strict';

				var _utilsDeepCopy = __webpack_require__(2);

				var _updateUi = __webpack_require__(1);

				var _setState = __webpack_require__(4);

				exports.timeTravel = function (spec, position) {
					var time = spec.time;
					var state = spec.state;
					var newTimePosition = time.pos + position;
					if (position < 0) {
						if (undefined === spec.time.history[time.pos]) {
							newTimePosition--;
							state = time.history[newTimePosition];
							time.pos = time.pos + position;
						} else if (newTimePosition <= 0) {
							newTimePosition = 0;
							state = { items: [] }; // should be defaultstate
							time.pos = time.pos + position;
						} else {
							newTimePosition--;
							state = time.history[newTimePosition];
							time.pos = time.pos + position;
						}
					} else {
						state = time.history[newTimePosition];
						time.pos = time.pos + position;
					}
					_updateUi.updateUI(true, spec.render(state), time);
				};

				/***/
			},
			/* 6 */
			/***/function (module, exports, __webpack_require__) {

				'use strict';

				var _updateUi = __webpack_require__(1);

				exports.createComponent = function (spec) {
					console.log('createComponent');
					if (!spec.isMounted) {
						console.log('setting isMounted');
						spec.time = { history: [], pos: -1 };
						spec.isMounted = true;
					}
					spec.componentDidMount.apply(spec);

					_updateUi.updateUI(false, spec.render(spec.state), spec.time);

					return spec;
				};

				/***/
			},
			/* 7 */
			/***/function (module, exports) {

				'use strict';

				exports.render = function (html) {
					var selector = arguments.length <= 1 || arguments[1] === undefined ? '#ui' : arguments[1];

					document.querySelector(selector).innerHTML = '';
					if (typeof html === 'string') {
						document.querySelector(selector).appendChild(document.createRange().createContextualFragment(html));
					} else {
						document.querySelector(selector).appendChild(html);
					}
				};

				/***/
			},
			/* 8 */
			/***/function (module, exports, __webpack_require__) {

				'use strict';

				var _utilsDeepCopy = __webpack_require__(2);

				var _updateUi = __webpack_require__(1);

				var _setState = __webpack_require__(4);

				exports.timeForward = function (spec) {
					console.log('timeForward');
					var time = spec.time;
					var state = spec.state;
					state = time.history[time.pos];
					time.pos = time.pos + 1;
					_updateUi.updateUI(true, spec.render(state), time);
				};

				/***/
			},
			/* 9 */
			/***/function (module, exports) {

				'use strict';

				exports.version = function () {
					return '0.0.2-alpha';
				};

				/***/
			}
			/******/])
		);
	});
	;

	/************************************************************************/
	/******/

/***/ }
/******/ ])
});
;