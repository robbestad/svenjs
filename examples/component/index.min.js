!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.Svenjs=t():e.Svenjs=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=n(1),i=n(2),r=document.getElementById("ui");o.render(i,r)},function(e,t,n){"use strict";!function(t,n){e.exports=n()}(void 0,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){t.__esModule=!0;var o=n(9),i=n(1),r=n(4),a=n(8),c=n(5),d=n(6),s=n(2),p=n(7),u=n(10),l=n(3);t.version=o.version,t.updateUI=i.updateUI,t.setState=c.setState,t.createStore=u.createStore,t.createComponent=d.createComponent,t.render=p.render,t.lifeCycle=s.lifeCycle,t.timeTravel=a.timeTravel,t.saveState=r.saveState,t.deepCopy=l.deepCopy},function(e,t){t.updateUI=function(e,t,n){var o=e._svenjs.rootNode;n=n||e.time,t=t||e.render(e.state),JSON.stringify(o.innerHTML)!==JSON.stringify(t)&&(o.innerHTML="","string"==typeof t?o.appendChild(document.createRange().createContextualFragment(t)):o.appendChild(t))}},function(e,t){t.lifeCycle=function(e){e.isMounted&&e.componentDidUpdate.apply(e)}},function(e,t){var n=t.deepCopy=function(e){if(null===e||"object"!=typeof e||"isActiveClone"in e)return e;var t=e.constructor();for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(e.isActiveClone=null,t[o]=n(e[o]),delete e.isActiveClone);return t}},function(e,t,n){var o=n(3);t.saveState=function(e,t){e=e||{history:[],pos:-1},e.history.splice(e.pos+1),e.history.push(o.deepCopy(t)),e.pos++}},function(e,t,n){var o=n(1),i=n(4),r=n(2);t.setState=function(e,t){i.saveState(t.time,e),o.updateUI(t,t.render(e)),r.lifeCycle(t)}},function(e,t,n){var o=n(5);t.createComponent=function(e){return console.log(e.displayName),e._svenjs={rootNode:{}},e.isBound||(e.isBound=!0,e.setState=function(e){return o.setState(e,this)}),e.isMounted||(e.time={history:[],pos:-1},e.isMounted=!0,void 0!==e.initialState&&(e.state=e.initialState),"function"==typeof e.componentDidMount&&e.componentDidMount.apply(e)),e}},function(e,t,n){var o=n(1);t.render=function(e,t){e._svenjs.rootNode=t,o.updateUI(e)}},function(e,t,n){var o=n(3),i=n(1),r=n(2);t.timeTravel=function(e,t){var n=e.time,a=e.state;n.pos+=t,a=o.deepCopy(n.history[n.pos]),e.state=a,i.updateUI(e,e.render(a),n),r.lifeCycle(e)}},function(e,t){t.version=function(){return"0.0.2-alpha"}},function(e,t){var n=[];t.createStore=function(e){return e.isMounted||(e.listenTo=function(e){n.push(e)},e.emit=function(e){n.forEach(function(t){t(e)})},"function"==typeof e.init&&e.init.apply(e)),e}}])})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var i=n(4),r=o(i),a=n(1),c=a.createComponent({displayName:"First app",initialState:{items:[],message:""},componentDidMount:function(){r["default"].listenTo(this.onEmit)},componentDidUpdate:function(){},onEmit:function(e){console.log("data from store received!"),console.log(e)},handleClick:function(e){this.state.items.splice(e,1),this.state.message="Spliced!",this.setState(this.state)},getNextString:function(){var e="The quick brown fox jumps over the lazy dog".split(" ");return e[Math.floor(Math.random()*e.length)]},render:function(){var e=this,t=this.state,n=this.time,o=document.createDocumentFragment(),i=document.createElement("div");i.id="row",o.appendChild(i);var r=document.createElement("div");r.id="app",i.appendChild(r);var c=document.createElement("h3"),d=document.createTextNode(this.state.message||"Sample App");c.appendChild(d),r.appendChild(c);var s=document.createElement("button"),p=document.createTextNode("Add Word");s.id="add",s.onclick=function(){t.items.push(e.getNextString()),e.setState(t)},s.appendChild(p),r.appendChild(s);var u=document.createElement("small");u.textContent="(click word to delete)",r.appendChild(u);var l=document.createElement("span");l.id="count",l.textContent="Words: "+t.items.length,r.appendChild(l);var f=document.createElement("ul");t.items.forEach(function(t,n){var o=document.createElement("li"),i=document.createTextNode(t);o.appendChild(i),o.onclick=function(){e.handleClick(n)},f.appendChild(o)}),r.appendChild(f);var m=document.createElement("div");m.id="time-travel",i.appendChild(m);var h=document.createElement("h3"),v=document.createTextNode("Time Travel");h.appendChild(v),m.appendChild(h),s=document.createElement("button"),p=document.createTextNode("Back"),s.id="back",s.disabled=n.pos<=0,s.onclick=function(){a.timeTravel(e,-1)},s.appendChild(p),m.appendChild(s),s=document.createElement("button"),p=document.createTextNode("Next"),s.id="next",s.disabled=n.pos>=n.history.length-1,s.onclick=function(){a.timeTravel(e,1)},s.appendChild(p),m.appendChild(s);var C=document.createElement("p");return C.id="time-pos",C.textContent="Position "+(n.pos+1)+" of "+n.history.length,m.appendChild(C),o}});e.exports=c},function(e,t){"use strict";t.getJSON=function(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(200===o.status?t(JSON.parse(o.responseText)):n(o.responseText))},o.open("GET",e),o.send()})}},function(e,t,n){"use strict";var o=n(3),i=n(1);e.exports=i.createStore({init:function(){var e=this;o.getJSON("http://www.reddit.com/r/javascript/.json").then(function(t){e.emit(t)})["catch"](console.log.bind(console))}})}])});