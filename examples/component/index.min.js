!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Svenjs=e():t.Svenjs=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var o=n(1),i=n(2),r=document.getElementById("ui");o.render(i,r)},function(t,e,n){"use strict";!function(e,n){t.exports=n()}(void 0,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var o;(function(t){var i=n(9),r=n(2),a=n(4),c=n(8),d=n(5),s=n(6),l=n(1),u=n(7),p=n(10),h=n(3),f={version:i.version,updateUI:r.updateUI,setState:d.setState,createStore:p.createStore,createComponent:s.createComponent,render:u.render,lifeCycle:l.lifeCycle,timeTravel:c.timeTravel,saveState:a.saveState,deepCopy:h.deepCopy};"object"==typeof t&&null!=t&&t.exports?t.exports=f:(o=function(){return f}.call(e,n,e,t),!(void 0!==o&&(t.exports=o)))}).call(e,n(11)(t))},function(t,e){e.lifeCycle=function(t){t.isMounted&&t.componentDidUpdate.apply(t)}},function(t,e){e.updateUI=function(t,e,n){}},function(t,e){var n=e.deepCopy=function(t){if(null===t||"object"!=typeof t||"isActiveClone"in t)return t;var e=t.constructor();for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(t.isActiveClone=null,e[o]=n(t[o]),delete t.isActiveClone);return e}},function(t,e,n){var o=n(3);e.saveState=function(t,e){t=t||{history:[],pos:-1},t.history.splice(t.pos+1),t.history.push(o.deepCopy(e)),t.pos++}},function(t,e,n){var o=(n(2),n(4)),i=n(1);e.setState=function(t,e){o.saveState(e.time,t),e.render(t),i.lifeCycle(e)}},function(t,e,n){var o=n(5);e.createComponent=function(t){return console.log(t.displayName),t._svenjs={rootNode:{}},t.isBound||(t.isBound=!0,t.setState=function(t){return o.setState(t,this)}),t.isMounted||(t.time={history:[],pos:-1},t.isMounted=!0,void 0!==t.initialState&&(t.state=t.initialState),"function"==typeof t.componentDidMount&&t.componentDidMount.apply(t)),t}},function(t,e){var n=function(t,e){return e.appendChild(t)},o=function(t,e){if(t.hasOwnProperty("children")&&"string"==typeof t.children[0]){var n=document.createTextNode(t.children[0]);e.appendChild(n)}return t.hasOwnProperty("children"),t.hasOwnProperty("attrs")&&(t.attrs.hasOwnProperty("id")&&(e.id=t.attrs.id),t.attrs.hasOwnProperty("onClick")&&(e.onclick=t.attrs.onClick)),e},i=function(t,e){return"object"!=typeof t.children?!1:(t.children.forEach(function(t){var i=document.createElement(t.tag);if(n(o(t,i),e),null!=t.children&&"object"==typeof t.children){var r=t.children;r.forEach(function(t){var e=document.createElement(t.tag);o(t,e),n(e,i)})}}),e)};e.render=function(t,e){t._svenjs.rootNode=e;var n=t.render(),o=document.createDocumentFragment(),r=document.createElement(n.tag);n.attrs.hasOwnProperty("id")&&(r.id=n.attrs.id);var a=i(n,r);console.log(a),o.appendChild(a),e.appendChild(o)}},function(t,e,n){var o=n(3),i=n(2),r=n(1);e.timeTravel=function(t,e){var n=t.time,a=t.state;n.pos+=e,a=o.deepCopy(n.history[n.pos]),t.state=a,i.updateUI(t,t.render(a),n),r.lifeCycle(t)}},function(t,e){e.version=function(){return"0.0.2-alpha"}},function(t,e){var n=[];e.createStore=function(t){return t.isMounted||(t.listenTo=function(t){n.push(t)},t.emit=function(t){n.forEach(function(e){e(t)})},"function"==typeof t.init&&t.init.apply(t)),t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])})},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var i=n(4),r=o(i),a=n(1),c=a.createComponent({displayName:"First app",initialState:{items:[],message:""},componentDidMount:function(){r["default"].listenTo(this.onEmit)},componentDidUpdate:function(){},onEmit:function(t){console.log("data from store received!"),console.log(t)},handleClick:function(t){console.log("handleClick");var e=this.state;this.time;e.items.push(this.getNextString()),e.message="BOB"+(1+Math.floor(100*Math.random()))+"!",this.setState(e)},goBack:function(){a.timeTravel(this,-1)},goForward:function(){a.timeTravel(this,1)},getNextString:function(){var t="The quick brown fox jumps over the lazy dog".split(" ");return t[Math.floor(Math.random()*t.length)]},render:function(){var t=this.state,e=(this.time,!0),n=!0;return{tag:"div",attrs:{id:"row"},children:[{tag:"div",attrs:{id:"app"},children:[{tag:"h3",attrs:{},children:[t.message||"Svenjs App"]},{tag:"button",attrs:{onClick:this.handleClick.bind(this)},children:["Add word"]},{tag:"div",attrs:{id:"ui"}},{tag:"small",attrs:{},children:["(click word to delete)"]}]},{tag:"div",attrs:{id:"time-travel"},children:[{tag:"h3",attrs:{},children:["Time travel"]},{tag:"button",attrs:{disabled:e,onClick:this.goBack.bind(this)},children:["Back"]},{tag:"button",attrs:{disabled:n,onClick:this.goForward.bind(this)},children:["Next"]},{tag:"p",attrs:{id:"time-pos"}}]}]}},__render:function(){var t=this,e=this.state,n=this.time,o=document.createDocumentFragment(),i=document.createElement("div");i.id="row",o.appendChild(i);var r=document.createElement("div");r.id="app",i.appendChild(r);var c=document.createElement("h3"),d=document.createTextNode(this.state.message||"Sample App");c.appendChild(d),r.appendChild(c);var s=document.createElement("button"),l=document.createTextNode("Add Word");s.id="add",s.onclick=function(){e.items.push(t.getNextString()),t.setState(e)},s.appendChild(l),r.appendChild(s);var u=document.createElement("small");u.textContent="(click word to delete)",r.appendChild(u);var p=document.createElement("span");p.id="count",p.textContent="Words: "+e.items.length,r.appendChild(p);var h=document.createElement("ul");e.items.forEach(function(e,n){var o=document.createElement("li"),i=document.createTextNode(e);o.appendChild(i),o.onclick=function(){t.handleClick(n)},h.appendChild(o)}),r.appendChild(h);var f=document.createElement("div");f.id="time-travel",i.appendChild(f);var m=document.createElement("h3"),v=document.createTextNode("Time Travel");m.appendChild(v),f.appendChild(m),s=document.createElement("button"),l=document.createTextNode("Back"),s.id="back",s.disabled=n.pos<=0,s.onclick=function(){a.timeTravel(t,-1)},s.appendChild(l),f.appendChild(s),s=document.createElement("button"),l=document.createTextNode("Next"),s.id="next",s.disabled=n.pos>=n.history.length-1,s.onclick=function(){a.timeTravel(t,1)},s.appendChild(l),f.appendChild(s);var C=document.createElement("p");return C.id="time-pos",C.textContent="Position "+(n.pos+1)+" of "+n.history.length,f.appendChild(C),o}});t.exports=c},function(t,e){"use strict";e.getJSON=function(t){return new Promise(function(e,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(200===o.status?e(JSON.parse(o.responseText)):n(o.responseText))},o.open("GET",t),o.send()})}},function(t,e,n){"use strict";var o=n(3),i=n(1);t.exports=i.createStore({init:function(){var t=this;o.getJSON("http://www.reddit.com/r/javascript/.json").then(function(e){t.emit(e)})["catch"](console.log.bind(console))}})}])});